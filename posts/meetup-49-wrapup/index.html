<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Hybrid Meetup #49 wrap-up | Leipzig Gophers</title>

    <style>body{margin:1em auto;padding:1em;color:#2f2d2e;max-width:45em;line-height:1.6;font-family:Georgia,serif;font-size:1.2em}h1{border-bottom:2pt solid #2f2d2e}.header-menu{float:right}ul.pagination{list-style-type:none;text-align:center;padding:0}ul.pagination>li{padding:0 .4em;display:inline-block}div.footer{border-top:1pt solid;text-align:center;padding:1em}img{max-width:100%;max-height:100%;display:block;margin-left:auto;margin-right:auto}@media(min-width:45em){div.tags{float:right}}img[src*="#half"]{width:50%}a{text-decoration:none;color:#35a7ff;border-bottom:2pt solid #fff}a:visited{color:#ff5964}a:hover{border-bottom:2pt solid #ff5964;transition:all 333ms ease-in}a.tag{padding:.1em .4em;background:#2f2d2e;color:#fff;text-decoration:none;border-radius:5pt}a.anchor{padding-right:.3em;color:#d3d3d3}blockquote{color:#838383}</style>

    

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name='impact-site-verification' value='54840aba-1503-416b-b5d7-dafee41af763'> 



</head>


<body>
<div class="header">
    <a href="/">Leipzig Gophers</a>
    <div class="header-menu">
        <a href="/posts/">blog</a>
    </div>
</div>
<div id="content">

<header>
    <h1 id="#hybrid-meetup-49-wrap-up">
        <a class="anchor" href="#hybrid-meetup-49-wrap-up">ðŸ”—</a>Hybrid Meetup #49 wrap-up</h1>
    

<div class="post-meta"><time datetime="2025-03-26">Mar 26, 2025</time><div class="tags">
        Tags
        <a class="tag" href="https://golangleipzig.space/tags/summary/">summary</a>
        <a class="tag" href="https://golangleipzig.space/tags/meetup/">meetup</a>
    </div>
</div>
</header>
<article>
    <h2 id="memory-management-in-go-or-to-gc-or-not-to-gc">Memory management in Go or <em>To GC or not to GC</em></h2>
<p>Hybrid Meetup #49 took place
<a href="https://www.meetup.com/leipzig-golang/events/305626247">2025-03-25</a> 19:00 at
<a href="https://www.check24.de/">CHECK24</a> Leipzig Office and we had a great
introduction to memory management with Go by <a href="https://www.linkedin.com/in/fabian-g%C3%A4rtner-913584141/">Fabian</a>.</p>
<p>Slides and quiz can be found at
<a href="https://www.mentimeter.com/app/presentation/alog8a9xsqj6hwbyi6t32m5qzh295rue/view?question=9bym8yfwp7c4">mentimeter.com</a>.</p>
<p><a href="https://www.mentimeter.com/app/presentation/alog8a9xsqj6hwbyi6t32m5qzh295rue/view?question=9bym8yfwp7c4"><img src="/images/meetup-49-menti-screenie-2025-03-25-231344.png" alt=""></a></p>
<p>We also have an <a href="https://github.com/golang-leipzig/golang-leipzig.github.io/tree/source/static/downloads/meetup-49-mentimeter">archive of that page</a>.</p>
<p>Some rules to program by:</p>
<ul>
<li>Stack allocation are better then heap allocation</li>
<li>Number of heap allocations are more important than size of heap allocations</li>
<li>Reduce the number of pointers in heap to reduce mark phase costs</li>
<li>Be aware of the memory layout of you structs</li>
<li>Make sure that every goroutine returns at some point (to avoid leaks)</li>
<li>Use pprof to determine problems in you program</li>
</ul>
<p>There is a great GC guide at: <a href="https://go.dev/doc/gc-guide">doc/gc-guide</a>, and
a few SO questions <a href="https://stackoverflow.com/questions/tagged/go%2bgarbage-collection?tab=Votes">tagged with Go and
GC</a></p>
<p>A tool for visualizing is <a href="https://github.com/dominikh/go-tools/tree/master/cmd/structlayout">structlayout</a>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ go install honnef.co/go/tools/cmd/structlayout@latest
$ go install github.com/ajstarks/svgo/structlayout-svg@latest
</code></pre></div><p>You can then generate struct layout diagrams.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ structlayout -json runtime slice | structlayout-svg -t &#34;runtime.slice&#34; &gt; /tmp/struct.svg
$ structlayout -json bufio Reader | structlayout-svg -t &#34;bufio.Reader&#34; &gt; /tmp/struct.svg
$ structlayout -json net/http Response | structlayout-svg -t &#34;net/http.Response&#34; &gt; /tmp/struct.svg
</code></pre></div><p><a href="/images/meetup-49-structlayout-combined.png"><img src="/images/meetup-49-structlayout-combined.png" alt=""></a></p>
<p>Some more memory related types:</p>
<ul>
<li><a href="https://pkg.go.dev/sync#Pool">sync.Pool</a></li>
<li><a href="https://github.com/golang/go/issues/51317">memory arenas</a> (experimental, but likely be declined)</li>
</ul>
<p>Thanks again <a href="https://www.linkedin.com/in/fabian-g%C3%A4rtner-913584141/">Fabian</a> for the great presentation!</p>
<h2 id="vpn-and-any-of-those-problems">VPN and <em>any of those problems</em></h2>
<p>Run your own VPN mesh with <a href="https://headscale.net">headscale</a> (or
<a href="https://github.com/jsiebens/ionscale">ionscale</a>) as the tailscale control
server.</p>
<p>Slides: <a href="https://golangleipzig.space/downloads/LGO49-RYOVPN.pdf">LGO49-RYOVPN.pdf</a>.</p>
<p><a href="https://golangleipzig.space/downloads/LGO49-RYOVPN.pdf"><img src="/images/meetup-49-RYOVPN.png" alt=""></a></p>
<p>Where does the name tailscale come from? From the 2013 Google paper <a href="https://dl.acm.org/doi/pdf/10.1145/2408776.2408794">The tail
at scale</a>.</p>
<blockquote>
<p>The long tail of products are never going to be that big [ie. as a
hyperscaler] â€” almost everybody building almost everything doesn&rsquo;t have
any of those problems. &ndash; <a href="https://apenwarr.ca/log/">Avery Pennarun</a> at <a href="https://www.buzzsprout.com/1822302/episodes/9890092-tailscale-with-avery-pennarun-brad-fitzpatrick">45:56&hellip;</a></p>
</blockquote>
<p>PS. Find great gifs for your next presentation at <a href="https://gifcities.org">gifcities.org</a>.</p>
<p><a href="https://gifcities.org"><img src="/images/KWO2MF6TRNCGAYOSZWWDVHKBVELCZQV5.gif" alt=""></a></p>
<h2 id="misc">Misc</h2>
<ul>
<li>LLM use case snapshot: documentation navigation (using an LLM feels like
using SO in the 2010s), writing 5-10 lines functions, writing narrow types,
e.g. a helper to fill a type with random values; build tool scripts
adjustments; emacs has <a href="https://github.com/karthink/gptel">gptel</a> (example
<a href="https://www.youtube.com/watch?v=JHXG225oP8E">RAGmacs</a>), a workflow that takes
a URL and summarizes the content directly in emacs is easy; also great tool use
in elisp or beyond; LLM as brainstorming/research tool</li>
<li><a href="https://www.umsl.edu/~hugheyd/is6840/waterfall.html">Waterfall style systems building</a> seems to be hard to follow these days (a grand
plan seldom survives contact with reality), <a href="https://softwaredoug.com/blog/2024/12/14/throwaway-prs-not-design-docs">preferring throwaway code over
design
docs</a>
may be a better way, as designs can be discovered with code while throwing away
code is part of <a href="https://pages.cs.wisc.edu/~remzi/Naur.pdf">building a theory</a>
around the requirements and forces surrounding software</li>
</ul>
<p><a href="https://www.meetup.com/de-DE/leipzig-golang/">Join our meetup</a> to get notified of upcoming events.</p>

</article>


    </div>
<div class="footer">
    
    
    <div class="footer-links">
        <a href="https://www.meetup.com/Leipzig-Golang/">Meetup</a><span> / <span><a href="https://github.com/golang-leipzig">GitHub</a><span> / <span><a href="https://raw.githubusercontent.com/golang-leipzig/golang-leipzig.github.io/source/Impressum.txt">Imprint</a><span> / <span><a href="/qr.png">QR</a><span> / <span><a href="https://1mb.club/">1MB</a><span> / <span><a href="/llms.txt">LLM</a></div>
    

    
    
</div>
</body>

</html>