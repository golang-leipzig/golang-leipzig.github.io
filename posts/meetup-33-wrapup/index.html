<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Drinkup #33 wrap-up | Leipzig Gophers</title>

    <style>body{margin:1em auto;padding:1em;color:#2f2d2e;max-width:45em;line-height:1.6;font-family:Georgia,serif;font-size:1.2em}h1{border-bottom:2pt solid #2f2d2e}.header-menu{float:right}ul.pagination{list-style-type:none;text-align:center;padding:0}ul.pagination>li{padding:0 .4em;display:inline-block}div.footer{border-top:1pt solid;text-align:center;padding:1em}img{max-width:100%;max-height:100%;display:block;margin-left:auto;margin-right:auto}@media(min-width:45em){div.tags{float:right}}img[src*="#half"]{width:50%}a{text-decoration:none;color:#35a7ff;border-bottom:2pt solid #fff}a:visited{color:#ff5964}a:hover{border-bottom:2pt solid #ff5964;transition:all 333ms ease-in}a.tag{padding:.1em .4em;background:#2f2d2e;color:#fff;text-decoration:none;border-radius:5pt}a.anchor{padding-right:.3em}blockquote{color:#838383}</style>

    

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

</head>


<body>
<div class="header">
    <a href="/">Leipzig Gophers</a>
    <div class="header-menu">
        <a href="/posts/">blog</a>
    </div>
</div>
<div id="content">

<header>
    <h1 id="#drinkup-33-wrap-up">
        <a class="anchor" href="#drinkup-33-wrap-up">üîó</a>Drinkup #33 wrap-up</h1>
    

<div class="post-meta"><time datetime="2022-12-21">Dec 21, 2022</time><div class="tags">
        Tags
        <a class="tag" href="https://golangleipzig.space/tags/summary/">summary</a>
        <a class="tag" href="https://golangleipzig.space/tags/meetup/">meetup</a>
    </div>
</div>
</header>
<article>
    <h2 id="happy-holidays">Happy Holidays!</h2>
<p><img src="/images/cantona_pixel.png" alt=""></p>
<p>We met 2022-12-20 19:00 at Caf√© Cantona, with no specific Go agenda, for a
great exchange of ideas and experiences - too many to capture them in a blog
post, so here&rsquo;s just a fraction of the topics we passed (slightly categorized):</p>
<h2 id="reading-list">Reading list</h2>
<ul>
<li><a href="https://www.manning.com/books/grokking-functional-programming">Grokking Functional Programming</a> - a very readable introduction to the topic; more academic angles include the classic <a href="https://curtclifton.net/papers/MoseleyMarks06a.pdf">Out of the tar pit</a> or <a href="https://openlibrary.org/works/OL1863182W/Purely_functional_data_structures">Purely Functional Data Structures</a> (always nice to <a href="https://github.com/golang/go/blob/78fc81070a853d08a71f70fa20b2093f5535e6c5/src/net/http/transport.go#L1256-L1271">find references to this book in code</a>)</li>
<li>in 04/2022, a JS version of <a href="https://en.wikipedia.org/wiki/Structure_and_Interpretation_of_Computer_Programs">SICP</a> (1984) came out: <a href="https://en.wikipedia.org/wiki/Structure_and_Interpretation_of_Computer_Programs,_JavaScript_Edition">SICP JS edition</a>, there&rsquo;s an <a href="https://sourceacademy.org/sicpjs/index">open access version</a>, too</li>
<li><a href="https://www.manning.com/books/podman-in-action">Podman in Action</a>, container tools with a nice Unix backdrop</li>
<li>the classic, albeit just five year old <a href="https://www.oreilly.com/library/view/designing-data-intensive-applications/9781491903063/">DDIA</a></li>
<li><a href="https://www.manning.com/books/100-go-mistakes-and-how-to-avoid-them">100 mistakes in Go and how to avoid them</a> - actionable advice for Go code improvements</li>
</ul>
<h2 id="software-general">Software General</h2>
<ul>
<li><a href="http://bibnum.bnf.fr/WARC/">ISO 28500:2017</a>, aka <a href="https://web.archive.org/web/20120619151338/http://www.iwaw.net/05/kunze.pdf">WARC</a> is how you can capture the web - and there are many libraries and tools around this format, just to name a few: <a href="https://en.wikipedia.org/wiki/Heritrix">Heritrix</a>, <a href="https://github.com/internetarchive/brozzler">brozzler</a>, <a href="https://github.com/webrecorder">webrecorder</a>, <a href="https://github.com/internetarchive/warcprox">warcprox</a>, <a href="https://replayweb.page/">replayweb.page</a>, <a href="https://github.com/iipc/awesome-web-archiving">and more</a></li>
</ul>
<p>If you have <a href="https://www.gnu.org/software/wget/">wget</a> installed, you can already create WARC files yourself:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ wget -rkc --warc-file golangleipzig.space --warc-cdx https://golangleipzig.space
</code></pre></div><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Since web archiving aims for a complete preservation, the whole HTTP exchange
is recorded - which can be analyzed later. The <a href="https://httparchive.org/">HTTP Archive</a> creates various reports, e.g. a
<a href="https://almanac.httparchive.org/en/2022/">yearly state of the web report</a>.</p>
<ul>
<li>Parquet is a great columnar storage format, with a <a href="https://pkg.go.dev/search?q=parquet">few libraries</a> in Go, too, e.g. from the <a href="https://github.com/apache/arrow/tree/master/go">Apache Arrow</a> project</li>
</ul>
<p>There&rsquo;s a new wave of big data and analytics tools written in <a href="https://www.rust-lang.org/">rust</a>, e.g. the <a href="https://github.com/apache/arrow-ballista">distributed SQL query engine ballista</a> <a href="https://www.youtube.com/watch?v=ZZHQaOap9pQ&amp;t=397s">NY statprog meetup recording</a>, and others</p>
<ul>
<li>Did you know? Google BigQuery does not have <code>MEDIAN</code> - <a href="https://www.pascallandau.com/bigquery-snippets/calculate-median/">workaround</a></li>
</ul>
<h2 id="go">Go</h2>
<ul>
<li>JSON matcher: <a href="https://github.com/timbray/quamina">quamina</a></li>
</ul>
<blockquote>
<p>Quamina implements a data type that has APIs to create an instance and add
multiple Patterns to it, and then query data objects called Events to
discover which of the Patterns match the fields in the Event.</p>
</blockquote>
<ul>
<li>Go generics utils: <a href="https://github.com/esimov/gogu">gogu</a></li>
</ul>
<blockquote>
<p>Gogu is a versatile, comprehensive, reusable and efficient concurrent-safe
utility functions and data structures library taking advantage of the Go
generics. It was inspired by other well established and consecrated
frameworks like lodash or Apache Commons and some concepts being more closer
to the functional programming paradigms.</p>
</blockquote>
<ul>
<li>Functional options <a href="https://github.com/tmrts/go-patterns/blob/master/idiom/functional-options.md">pattern</a> (we talked about that in
<a href="https://golangleipzig.space/posts/meetup-13-wrapup/">#13</a>) has some
advantages over the still widely used technique of passing config structs to
functions.</li>
</ul>
<h3 id="a-go-interface-puzzle">A Go interface puzzle</h3>
<blockquote>
<p>Declare an interface where it is used, not where it is implemented. Unless
the interface is well discovered.</p>
</blockquote>
<p>Via: <a href="https://twitter.com/inancgumus/status/1605116543553019905">1605116543553019905</a> &ndash; join the <a href="https://twitter.com/embano1/status/1605173329836404738">conversation</a> &hellip;</p>
<p>Our take: It&rsquo;s a - slightly subtle - consequence of structural
typing: An interface can be <em>added later</em>, in an ad-hoc style, e.g. to facilitate testing
or establishing a protocol of limited scope.</p>
<p>Example: A function only uses <code>client.Do</code> for HTTP requests. We can create a
protocol, so we are able to use the default HTTP client from the standard
library or some third-pary library as well (as long at it has a suitable <code>Do</code> method). We can define a Doer:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#000;font-weight:bold">type</span> Doer <span style="color:#000;font-weight:bold">interface</span> {
    <span style="color:#900;font-weight:bold">Do</span>(req <span style="color:#000;font-weight:bold">*</span>http.Request) (<span style="color:#000;font-weight:bold">*</span>http.Response, <span style="color:#458;font-weight:bold">error</span>)
}
</code></pre></div><p>and let our function work with <code>Doer</code> interface instead of a concrete type.
This interface should be defined where it is used (and not in the net/http
package, for example). On the flipside, sometimes you need central interfaces,
e.g. <a href="https://pkg.go.dev/io#Reader">io.Reader</a>, or a database abstraction
layer, or a <a href="https://github.com/rclone/rclone/blob/5ac8cfee56b58c242c60b8fd319b8a2dd4420c9b/fs/types.go">filesystem abstraction
layer</a>, and so on. These are <em>well discovered</em>.</p>
<blockquote>
<p>In a structural setting, a type expression is a closed entity: it carries
with it all the information that is needed to understand its meaning. In a nominal system, we
are always working with respect to some global collection of type names and
associated deÔ¨Ånitions. This tends to make both deÔ¨Ånitions and proofs more
verbose.</p>
</blockquote>
<p>More on nominal and structural typing can be found in <a href="https://www.cis.upenn.edu/~bcpierce/tapl/contents.pdf#page=5">Chapter
19.3</a> of <a href="https://en.wikipedia.org/wiki/Types_and_Programming_Languages">Types
and programming
languages</a>
<a href="https://www.cis.upenn.edu/~bcpierce/tapl/">TAPL</a>.</p>
<h2 id="python">Python</h2>
<ul>
<li><a href="https://github.com/jazzband/pip-tools">pip-tools</a> is a small tool for pinning dependencies and predictable builds</li>
<li>Python in 2022 with <a href="https://en.wikipedia.org/wiki/Gradual_typing">gradual typing</a> feels like a static language now - a long way since <a href="http://web.archive.org/web/20060111181527/http://pico.vub.ac.be/~wdmeuter/RDL04/papers/Meijer.pdf">Static Typing Where Possible, Dynamic Typing When Needed:
The End of the Cold War Between Programming Languages</a> (discussed at the time by <a href="http://lambda-the-ultimate.org/node/834">LtU</a>)</li>
</ul>
<h2 id="api-design">API Design</h2>
<ul>
<li><a href="https://stripe.com/docs/api/expanding_objects">Expanding objects</a> - another example in the wild: <a href="https://api.fatcat.wiki/v0/release/qaa7ysrn5rfbnkjec7rtrkcao4?expand=files">fatcat API</a> (<em>List of sub-entities to expand in response. For releases, &lsquo;files&rsquo;, &lsquo;filesets, &lsquo;webcaptures&rsquo;, &lsquo;container&rsquo;, and &lsquo;creators&rsquo; are valid.</em>)</li>
<li><a href="https://awslabs.github.io/aws-lambda-powertools-python/2.4.0/utilities/idempotency/">Idempotency tool for AWS lambda</a></li>
</ul>
<p>Related, from <a href="https://www.oreilly.com/library/view/cloud-native-go/9781492076322/">Cloud Native Go</a> (a book we gave away in <a href="https://golangleipzig.space/posts/meetup-30-wrapup/">#30</a>, courtesy of <a href="https://www.oreilly.com/pub/cpc/323592">O&rsquo;Reilly Media</a>), page 168:</p>
<blockquote>
<p><a href="https://hollycummins.com/">Holly Cummins</a>, the worldwide development community practice lead for the IBM
Garage, famously said that <em>if cloud native has to be a synonym for anything, it would be idempotent</em>.</p>
</blockquote>
<ul>
<li><a href="https://www.infoq.com/articles/API-Design-Joshua-Bloch/">Joshua Bloch: Bumper-Sticker API Design</a> (<a href="https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/32713.pdf">Slides</a>)</li>
</ul>
<h2 id="cloud">Cloud</h2>
<ul>
<li><a href="https://www.salilmishra.ml/posts/k8s-podman-wsl2/">Running kubernetes with rootless podman on WSL2</a></li>
</ul>
<blockquote>
<p>Running Kubernetes with rootless podman is documented on both kind and
minikube but to get it up and running on <a href="https://learn.microsoft.com/en-us/windows/wsl/install">WSL2</a> requires some additional tweaks
as by default WSL2 uses init daemon, instead of systemd and you have to
enable cgroupv2 explicitly.</p>
</blockquote>
<ul>
<li>The perennial question: how can you beat <em>cloud</em> infrastructure from a
developer experience (and economical) standpoint? For example, how can we create a robust, scalabale
queue with less effort that writing e.g. <a href="https://github.com/awsdocs/aws-doc-sdk-examples/blob/5458e2b9fd71abb916bca4ed53d8c1a894e4fe87/go/example_code/sqs/sqs_createqueues.go#L42-L59">15 lines in
Go</a> (including error handling);
(btw, <a href="https://aws.amazon.com/blogs/aws/aws-blog-the-first-five-years/">SQS</a>
started in 2004); at some places, <a href="https://archive.org/details/jonah-edwards-presentation">infra works differently</a> <a href="https://archive.org/donate/">‚ù§Ô∏è</a></li>
</ul>
<h2 id="misc">Misc</h2>
<ul>
<li>Culture: <a href="https://ghuntley.com/fracture/">Visual Studio Code is designed to fracture</a></li>
<li>How to improve as an software engineer? We got some ideas, like keeping a
(public) technical journal, but are curious about what you think - so <a href="https://www.meetup.com/Leipzig-Golang">join
our meetup</a> to connect and to get
notified of upcoming events!</li>
<li>Airtags and Parcel: <a href="https://www.youtube.com/watch?v=W8SER24F0U8">DHL &ldquo;Lost&rdquo; My AirTag Parcel (but I knew where it was)</a></li>
</ul>
<hr>
<p>Happy holidays!</p>
<p><img src="/images/sierpinski.jpg" alt=""></p>

</article>


    </div>
<div class="footer">
    
    
    <div class="footer-links">
        <a href="https://www.meetup.com/Leipzig-Golang/">Meetup</a><span> / <span><a href="https://github.com/golang-leipzig">GitHub</a><span> / <span><a href="https://raw.githubusercontent.com/golang-leipzig/golang-leipzig.github.io/source/Impressum.txt">Impressum</a><span> / <span><a href="/qr.png">QR</a></div>
    

    
    
</div>
</body>

</html>